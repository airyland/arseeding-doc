## 使用 Arseeding 服务
如果没有部署 arseeding,推荐使用 https://arseed.web3infura.io

### API 接口
#### Arweave node
arseed 兼容 arweave 节点的所有 [http api](https://docs.arweave.org/developers/server/http-api) 接口。

#### 同步和广播服务
###### Request
- Method: **POST**
- URL: ```/task/:taskType/:arid```
    - 同步 arTx: ```/task/sync/DW02g9sZaajWHSb6BHZ7371qxhANizyxPfXpX7SS-Jg```
    - 广播 arTx: ```/task/broadcast/DW02g9sZaajWHSb6BHZ7371qxhANizyxPfXpX7SS-Jg```
    - 只广播 arTx 元信息: ```/task/broadcast_meta/DW02g9sZaajWHSb6BHZ7371qxhANizyxPfXpX7SS-Jg```
###### Response
```go
ok
```
#### kill 同步和广播任务
###### Request
- Method: **POST**
- URL: ```/task/kill/:taskType/:arid```
    - 同步 kill: ```/task/kill/sync/DW02g9sZaajWHSb6BHZ7371qxhANizyxPfXpX7SS-Jg```
    - 广播 kill: ```/task/kill/broadcast/DW02g9sZaajWHSb6BHZ7371qxhANizyxPfXpX7SS-Jg```
    - 广播 arTx meta kill: ```/task/kill/broadcast_meta/DW02g9sZaajWHSb6BHZ7371qxhANizyxPfXpX7SS-Jg```
###### Response
```go
ok
```

#### Bundle API
Submit bundle item:
###### Request
- Method: **POST**
- URL: ```/bundle/tx/:currency```   
    - 使用 USDC 支付：```/bundle/tx/USDC```
    - 使用 AR 支付：```/bundle/tx/AR```
- Headers: Content-Type:application/octet-stream
- Body:
  --data-binary 'bundle item data'
###### Response
```js
{
    itemId:             "tSB2-PS3Qr-POmBgjIoi4wRYhhGq3UZ9uPO8dUf2LhM",
    bundler:            "Fkj5J8CDLC9Jif4CzgtbiXJBnwXLSrp5AaIllleH_yY",
    currency:           "AR",
    decimals:           12,
    fee:                "113123",
    paymentExpiredTime: 122132421,
    expectedBlock:      3144212,
}
```

Submit Native Data:
###### Request
- Method: **POST**
- URL: ```/bundle/data```
- Header: X-API-KEY: 'your apiKey'
- Body: --data-binary 'data'
###### Response
```js
{
    itemId: "tSB2-PS3Qr-POmBgjIoi4wRYhhGq3UZ9uPO8dUf2LhM"
}
```

GetOrders:
###### Request
- Method: **GET**
- URL: ```/bundle/orders/:signer```
- Query Params:
  - `cursorId`: (option) 返回列表中最后一个记录的id，用于分页。
###### Response
```js
[
    {
        "id": 13,
        "createdAt": "2022-07-11T04:07:12.261Z",
        "updatedAt": "2022-07-11T05:07:44.369Z",
        "itemId": "n6Xv8LwdpsQgpaTQgaXQfUORW-KxYePDnj-1ka9dHxM",
        "signer": "0x4002ED1a1410aF1b4930cF6c479ae373dEbD6223",
        "signType": 3,
        "size": 7802,
        "currency": "USDT",
        "decimals": 6,
        "fee": "817",
        "paymentExpiredTime": 1657516032,
        "expectedBlock": 972166,
        "paymentStatus": "expired",
        "paymentId": "",
        "onChainStatus": "failed"
    },
    ...
]
```

GetBundler:
###### Request
- Method: **GET**
- URL: ```/bundle/bundler```
###### Response
```js
{
    "bundler": "uDA8ZblC-lyEFfsYXKewpwaX-kkNDDw8az3IW9bDL68"
}
```

GetItemMeta:
###### Request
- Method: **GET**
- URL: ```/bundle/tx/:itemId```
###### Response
```js
{
    "signatureType": 3,
    "signature": "DC469T6Fz3ByFCtEjnP9AdsLSDFqINxvbIqFw1qwk0ApHtpmytRWFHZeY2gBN9nXopzY7Sbi9u5U6UcpPrwPlxs",
    "owner": "BCLR8qIeP8-kDAO6AifvSSzyCQJBwAtPYErCaX1LegK7GwXmyMvhzCmt1x6vLw4xixiOrI34ObhU2e1RGW5YNXo",
    "target": "",
    "anchor": "",
    "tags": [
        {
          "name": "a",
          "value": "aa"
        },
        {
          "name": "b",
          "value": "bb"
        },
        {
          "name": "Content-Type",
          "value": "image/png"
        }
      ],
    "data": "",
    "id": "IlYC5sG61mhTOlG2Ued5LWxN4nuhyZh3ror0MBbPKy4"
}
```
GetFee:
###### Request
- Method: **GET**
- URL: ```/bundle/fee/:size/:currency```
###### Response
```js
{
    "currency": "USDC",
    "decimals": 6,
    "finalFee": "4413"
}
```

GetItemIdsByArId:
###### Request
- Method: **GET**
- URL: ```/bundle/itemIds/:arId```
###### Response
```js
[
    "ikLaIRdrzTDD5-nL7C7LeWgZr_XEXbB5dB3C_hJZxXE",
    "x0gzOsOtos4X5vzoJ1CW9wq2pMPB7q7v_zjnvPPNjp0"
]
```
